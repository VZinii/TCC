{% extends "base.html" %}

{% load static %}

{% block titulo %}
    Capítulo {{ capitulo.numero }}
{% endblock %}

{% block style %}
    <link rel="stylesheet" href="{% static 'css/capitulo.css' %}">
{% endblock %}

{% block conteudo %}

    <div class="d-flex justify-content-between align-items-center mb-3">
        <div class="d-flex align-items-center vidas">
            <span class="text-danger fs-3 me-2">{{ vidas }}</span>
            <img src="https://cdn-icons-png.flaticon.com/512/833/833472.png" width="32" height="32" alt="Coração" class="m-1 img-small">
        </div>
        <h1 class="text-center mx-auto">Capitulo {{ capitulo.numero }}</h1>
        <a href="{% url 'modulo' modulo.numero %}">
            <button type="submit" class="btn btn-primary h-50">
                <img src="https://cdn-icons-png.flaticon.com/512/2879/2879564.png" alt="" width="20px" height="20px">
            </button>
        </a>
    </div>

    {% for secao in secoes %}
        {% if secao.ehTeste %}
            <div class="list-group">
                <form action="{% url 'secao' modulo.numero capitulo.numero secao.numero 1 %}" class="list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-between align-items-center">
                        <h1 class="mt-1 px-5 rounded-5 bg-warning">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="mb-2 bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>
                        </h1>
                        <span>{{ secao.xp }} XP</span>
                        <div>
                            <span>{{ secao.ouro }}</span>
                            <img src="https://cdn-icons-png.flaticon.com/512/1800/1800205.png" alt="" width="25" height="25">
                        </div>
                        {% if secao.liberada %}
                            <button class="btn btn-warning px-5 py-2"><h4 class="mt-1">Começar</h4></button>
                        {% else %}
                            <button class="btn btn-warning px-5 py-2 disabled"><h4 class="mt-1">Começar</h4></button>
                        {% endif %}
                    </div>
                </form>
            </div>
        {% else %}
            <div class="list-group">
                <form action="{% url 'secao' modulo.numero capitulo.numero secao.numero 1 %}" class="list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-between align-items-center">
                        <h1 class="mt-1 px-5 rounded-5 cor-secao ">{{ secao.numero }}</h1>
                        <span>{{ secao.xp }} XP</span>
                        <div>
                            <span>{{ secao.ouro }}</span>
                            <img src="https://cdn-icons-png.flaticon.com/512/1800/1800205.png" alt="" width="25" height="25">
                        </div>
                        {% if secao.liberada %}
                            <button class="btn px-5 py-2 cor-secao"><h4 class="mt-1">Começar</h4></button>
                        {% else %}
                            <button class="btn px-5 py-2 cor-secao disabled"><h4 class="mt-1">Começar</h4></button>
                        {% endif %}
                    </div>
                </form>
            </div>
        {% endif %}
    {% endfor %}

{% endblock %}